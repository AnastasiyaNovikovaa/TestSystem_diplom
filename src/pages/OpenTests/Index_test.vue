<template>
  <div class="main-wrapper" >
   
<a class="back_to_test" @click="$router.push({name: 'tests'})">
<p class="back_to_test_text"> Тесты </p></a>

   <!-- <div class="back_to_test">
       <p class="back_to_test_text"> Тесты </p>
    </div>-->

    <div class="head_test">
      <p class="back_to_test_text">Тест по теме</p>
      <p class="head_test_full">{{TESTS[id].head}} </p>
    </div>
      
    <div class="block_info">
       <p class="Open_tests">Общая информация</p>

      <div class="block_info_1">
        <p> <b>Предмет:</b>  {{TESTS[id].subject}}</p>
        <p> <b>Категория:</b>  {{TESTS[id].category}}</p>
        <p> <b>Дата открытия:</b> {{TESTS[id].date_open}}</p>
        <p> <b>Дата закрытия: </b>{{TESTS[id].date_close}}</p>
        <p> <b>Полученных результатов:</b>  24</p>
      </div>
    </div>

    <div class="block_info">
      <p class="Open_tests">Сводная статистика</p>
    <div class="block_info_2">
      <div class="grades">
        <p><b>Результаты тестирования:</b></p>
        <p class="grade1">Оценка "5" - 8 человек</p>
        <p class="grade2">Оценка "4" - 9 человек</p>
        <p class="grade3">Оценка "3" - 5 человек</p>
        <p class="grade4">Оценка "неуд" - 2 человек</p>
      </div>

      <div class="diagram">
        
      </div>
      
    </div>
  </div>

    <div class="table_grade">
      <div class="head_select">
       <p class="Open_tests">Таблица с результатами</p>
      <div class="Select select_test">
      <template>
         <b-form-select v-model="selected" class="mb-3 icon" >
        <b-form-select-option :value="null" class="text">Не выбрано</b-form-select-option>
        <b-form-select-option value="a" class="text">Сортировать А-Я</b-form-select-option>
        <b-form-select-option value="b" class="text">Сортировать Я-А</b-form-select-option>
        </b-form-select>
     </template>
    </div>

    <div>
        <b-form-input size="sm" class="mr-sm-2" placeholder="Поиск по ФИО" id="search_test"></b-form-input>
    </div>
   </div>
    <Table
      :test_data="TESTS"
    />

    </div>

  </div>
</template>

<script>

import {mapActions, mapGetters} from 'vuex'
import Table from './table_grade.vue'

export default {
  name: '',
  components: {
    Table
  },

  data() {
    return {
      id: this.$route.params['id'],
      selected: null
    }
  },

  computed: {
    ...mapGetters([
      'TESTS'
      ])
  },

  methods: {
   
    ...mapActions([
        'GET_TEST_FROM_API'
      ])


  },

  mounted() {
    this.GET_TEST_FROM_API();
  }

}
</script>

<style>
  
.back_to_test {
  position: absolute;
  top:20px;
  left: 260px;
  background-image: url("../../assets/arrow_back.png");   
  background-repeat: no-repeat;  
  background-position: 20px 8px;
  padding-left: 30px;
  background-position-x: left;
  cursor: pointer;
}

.back_to_test_text, .p_1 {
  font-family: 'RobotoMedium',  Helvetica, Arial, sans-serif;
  font-size: 16px;
  line-height: 150%;
  font-style: normal;
  font-weight: 600;
  color: #24252E;
  padding-top: 3px;
}

.head_test {
  margin-top: 30px;
}

.head_test_full{
  font-family: 'PoppinsBold',  Helvetica, Arial, sans-serif;
  font-size: 28px;
  text-align: left;
  font-style: normal;
  font-weight: 700;
  line-height: 42px;
  letter-spacing: 0em;
  margin-top: 16px;
}

.block_info_1, .block_info_2{
  width: 510px;
  height: 236px;
  background: #FFFFFF;
  box-shadow: 0px 0px 18px rgba(128, 129, 145, 0.15);
  border-radius: 8px;
  padding: 28px 24px;
}

.block_info{
float:left;
margin-top: 24px;
margin-bottom: 60px;
}

.block_info_1{
   margin-right: 32px;
}

.p_1 {
  float: left;
  text-align:left;   
}

.grade1{
  background-image: url("../../assets/Rec1.png");   
  background-repeat: no-repeat;   
  padding-left: 20px;
  background-position: left; 
}

.grade2{
  background-image: url("../../assets/Rec2.png");   
  background-repeat: no-repeat;   
  padding-left: 20px;
  background-position: left; 
}
.grade3{
  background-image: url("../../assets/Rec3.png");   
  background-repeat: no-repeat;
  padding-left: 20px;
  background-position: left;    
}
.grade4{
  background-image: url("../../assets/Rec4.png");   
  background-repeat: no-repeat; 
  padding-left: 20px;
  background-position: left;   
}

.grades {
  float: left;
}

.diagram{
  background-image: url("../../assets/diagram.png");   
  background-repeat: no-repeat; 
  float: right;
  width: 200px;
  height: 200px;
  padding-top: 40px;
  margin-top: 20px;
}

.select_test {
 
}

.table_grade{
  padding-bottom: 60px;
}

.head_select{
  margin-bottom: 40px;
}

</style>
